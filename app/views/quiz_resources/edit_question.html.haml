%fieldset
  %h3.title
    = render :partial => '/module/title_actions'
  %h4
    Edit Question
  #share
    %fieldset
      - if flash[:error]
        #error_wrapper
          #list_error= flash[:error]
      = error_messages_for 'question'
      = form_tag({:controller => 'quiz', :action => 'edit_question', :id => @mod, :qid => @question.id} , {:multipart => true})  do
        %label{:for => "mod_label"} Question Type
        = select :question, :q_type, @choices
        - if @mod.graded?
          %label{:for => "mod_label"} Points
          = text_field :question, :points, {:class => 'tinymce', :size => '5'}
        - else
          %label
            Zero Points. This Quiz is not graded.
            %span.more_help{:onmouseout => "delayhidetip();", :onmouseover => "fixedtooltip(NOT_QUIZ_GRADE_MSSG, this, event, '');"}= image_tag("icons/small_help.png", :alt => 'Tip', :border => 0)
            = hidden_field 'question','points', :value => 0
        %label{:for => "mod_label"} Question
        = text_area :question, :question, {:class => 'tinymce'}
        = tinymce
        `
        #submit_button
          = submit_tag 'Save', :class => "submit"
          - unless (@question.q_type == 'TF' || @question.q_type == 'FW') and @question.answers.length > 0
            or  #{submit_tag 'Save &amp; Add Answer', :class => "submit"}
  %div{:id => "answer_container#{@question.id.to_s}"}
    = render :partial => '/quiz/answers',  :locals => {:question => @question}
  = sortable_element 'answer_container'+@question.id.to_s,                                      |
        :tag => 'div',                                                                          |
    :url => {:controller => 'quiz', :action => "sort_answers", :id => @mod, :qid => @question}, |
    :complete => visual_effect(:highlight, 'answer_container'+@question.id.to_s),               |
    :handle => 'handle',                                                                        |
    :containment => ['answer_container'+@question.id.to_s],                                     |
    :constraint => false                                                                        |
