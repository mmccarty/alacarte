= report_errors @tutorial

.control-group
  %label.control-label{ :for => 'tutoral_name' }
    Title
    %span.required *
  .controls
    = text_field :tutorial, :name, { :class => 'input-xlarge' }
    %i.icon-question-sign{ :data => { :content => 'Enter a unique title for the tutorial. Do not add \'Tutorial\' to the name.', :trigger => 'hover' } }

.control-group
  %label.control-label{ :for => 'tags' }
    Tags
  .controls
    = text_field_tag :tags, @tag_list, { :class => 'input-xlarge' }
    %i.icon-question-sign{ :data => { :content => 'Tags are keywords that highlight content on the tutorial. Tips: Seperate individual tags with a comma. Only add 3-5 tags. Use the same tag on similar tutorials to help discovery.', :trigger => 'hover' } }
    %br
    %small.muted
      examples: anthropology, insects, caves

.control-group
  %label.control-label
    Handout Upload
  .controls
    = file_field :tutorial, :attachment
    - unless @tutorial.attachment_file_name.blank?
      %small.muted
        NOTE: This tutorial has an attachment.
%br

.control-group
  %label.control-label{ :for => 'tutorial_tutorial_description' }
    Description
    %i.icon-question-sign{ :data => { :content => 'The tutorial description is a short teaser that describes the tutorial. Tips:  Write complete sentences. Highlight special content on the tutorial.', :trigger => 'hover' } }
  .controls
    = text_area :tutorial, :description, class: 'tinymce'
    = tinymce

%p
  &nbsp;

%fieldset
  %legend
    Course data
    %i.icon-question-sign{ :data => { :content => 'Fill out the course data section <strong>only</strong> if the tutorial is for a specific course.', :html => 'true', :trigger => 'hover' } }
  .control-group
    %label.control-label
      Is the tutorial graded?
      %i.icon-question-sign{ :data => { :content => 'Click yes if the tutorial will be graded for a specific course. You must enter course data for the tutorial to offer a graded option.', :html => 'true', :trigger => 'hover' } }
    .controls
      %label.radio
        = radio_button :tutorial, :graded, true
        Yes
      %label.radio
        = radio_button :tutorial, :graded, false
        No
  .control-group
    %label.control-label{ :for => 'tutorial_subject', :class => flash[:course_subj_error] && 'required' || 'not-required' }
      Subject
    .controls
      = select('tutorial', 'subject_id', Subject.all.collect { |p| [p.subject_code, p.id] },{ :include_blank => true }, { :class => 'input-xlarge' })
    %span #{%(class="required") if flash[:course_num_error]}
  .control-group
    %label.control-label{ :for => 'tutorial_course_num' }
      Course Numbers
    .controls
      = text_field :tutorial, :course_num, { :class => 'input-xlarge' }
      %br
      %small.muted
        examples: 451 or 451/551
  .control-group
    %label.control-label{ :for => 'tutorial_section_num'}
      Section Numbers
    .controls
    = text_field :tutorial, :section_num, { :class => 'input-xlarge' }
    %br
    %small.muted
      examples: 001, 011, 012, 013
  .control-group
    .controls
      %label.checkbox{ :for => 'tutorial_internal' }
        Internal?
        = check_box :tutorial, :internal
%br
= submit_tag 'Save', class: 'btn btn-primary'
= submit_tag 'Save & Add Unit', class: 'btn'

:javascript
  $('.icon-question-sign').popover();
